---
interface TimelineItem {
  title: string;
  company: string;
  location: string;
  date: string;
  achievements: string[];
}

const experiences: TimelineItem[] = [
  {
    title: "Backend Developer",
    company: "ViP Construction and Maintenance Services",
    location: "Bogot치, Colombia",
    date: "January 2025 - May 2025",
    achievements: [
      "Developed an e-commerce platform to improve sales conversion for a construction and building supplies business",
      "The platform handles approximately 20 concurrent users and over 100 monthly visits",
      "Led the team responsible for implementing a REST API with FastAPI, managing the database, including secure authentication and user session handling. Integrated the API with an interactive frontend developed in React"
    ]
  },
  {
    title: "Project Lead and Full Stack Developer",
    company: "Focus Timers Project",
    location: "Bogot치, Colombia",
    date: "June 2024 - December 2024",
    achievements: [
      "Developed a web application that optimizes productivity through techniques such as Pomodoro, Time Bag, and Time Blocking",
      "The platform handles approximately 50 concurrent users and over 500 monthly visits, contributing to improving the productivity of the local academic community",
      "Led the team responsible for implementing a REST API with FastAPI, managing the database, including secure authentication and user session handling. Integrated the API with an interactive frontend developed in React"
    ]
  },
  {
    title: "Full Stack Developer",
    company: "Wallet Trail",
    location: "Bogot치, Colombia",
    date: "December 2023 - May 2024",
    achievements: [
      "Designed and developed a web application that facilitates monthly budget planning, helping users optimize their personal finances",
      "The tool facilitates users' monthly financial control and planning, promoting more organized economic management"
    ]
  },
  {
    title: "Tutor and Teaching Assistant",
    company: "Universidad Sergio Arboleda",
    location: "Bogot치, Colombia",
    date: "February 2023 - December 2023",
    achievements: [
      "Prepared educational materials and workshops for Differential Calculus and Business Mathematics courses, benefiting over 80 students",
      "Implemented personalized pedagogical strategies, resulting in a 100% pass rate in the courses I supported"
    ]
  }
];

// Display only most recent experiences by default
const initialExperiences = experiences.slice(0, 4);
const hasMoreExperiences = experiences.length > 4;
---

<div class="mx-auto max-w-4xl py-8">
  {initialExperiences.map((experience, index) => (
    <div class="mb-12 grid grid-cols-[1fr] md:grid-cols-[70px_1fr] gap-6 relative">
      <!-- Time marker for desktop -->
      <div class="hidden md:flex flex-col items-center">
        <div class="w-4 h-4 rounded-full bg-[rgb(47,76,121)] mb-2 shadow-[0_0_0_4px_rgba(255,255,255,1)]"></div>
        <div class="w-1 bg-gray-200 h-full"></div>
      </div>
      
      <!-- Content -->
      <div class="bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border-l-4 border-[rgb(47,76,121)]">
        <span class="inline-block px-3 py-1 text-sm rounded-full bg-[rgb(215,171,97)] text-white font-semibold mb-2 shadow-sm">{experience.date}</span>
        <h3 class="text-xl font-bold mb-1 text-[rgb(47,76,121)]">{experience.title}</h3>
        <h4 class="text-lg text-[rgb(200,35,55)] mb-1 flex items-center">
          {experience.company}
        </h4>
        <p class="text-gray-600 mb-3 text-sm italic flex items-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
          </svg>
          {experience.location}
        </p>
        <ul class="text-gray-700 space-y-2">
          {experience.achievements.map((achievement) => (
            <li class="pl-5 relative before:absolute before:left-0 before:top-2 before:w-3 before:h-3 before:bg-[rgb(224,98,54)] before:rounded-full">{achievement}</li>
          ))}
        </ul>
      </div>
    </div>
  ))}
  
  {hasMoreExperiences && (
    <div class="text-center mt-8">
      <a href="/experience" class="inline-flex items-center justify-center gap-2 bg-[rgb(47,76,121)] text-white px-6 py-3 rounded-full hover:bg-[rgb(47,76,121)]/80 transition-all duration-300 transform hover:-translate-y-1 shadow-md hover:shadow-lg">
        Ver toda mi experiencia
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
        </svg>
      </a>
    </div>
  )}
</div>